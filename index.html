<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="src/assets/css/style.css">
    <title>Document</title>
</head>
<body>

<div class="bg-neutral-900 min-h-screen w-full">
    <div class="mx-auto max-w-[1440px]">
        <header class="w-full">
            <div class="flex justify-between items-center py-4 px-6 bg-neutral-900 shadow-md">
                <a href="">
                    <img src="src/assets/images/logo.svg" alt="Logo" class="h-10">
                </a>

                <!-- Units dropdown -->
                <div class="relative">
                    <button
                            id="unitsDropdownBtn"
                            type="button"
                            class="inline-flex items-center gap-2 rounded-[8px] bg-neutral-800 px-4 py-2 text-white shadow-md hover:bg-neutral-700 focus:outline-none"
                            aria-haspopup="menu"
                            aria-expanded="false"
                            aria-controls="unitsMenu"
                    >
                        <img
                                src="src/assets/images/icon-units.svg"
                                alt=""
                                class="h-5 w-5"
                                aria-hidden="true"
                        />
                        <span class="font-medium text-white">Units</span>
                        <img
                                id="unitsChevron"
                                src="src/assets/images/icon-dropdown.svg"
                                alt=""
                                class="h-4 w-4 transition-transform duration-200 ease-out"
                                aria-hidden="true"
                        />
                    </button>

                    <div
                            id="unitsMenu"
                            role="menu"
                            aria-labelledby="unitsDropdownBtn"
                            class="absolute right-0 z-20 mt-2 w-[214px] rounded-xl bg-neutral-800/95 py-[8px] px-[6px] shadow-lg ring-1 ring-neutral-700 backdrop-blur hidden"
                    >
                        <h4 class="text-neutral-300 pl-3 text-[16px] h-lh mt-1 mb-3">Switch to Imperial</h4>

                        <p class="text-neutral-300 pl-3 text-[14px]">Temperature</p>
                        <button
                                type="button"
                                class="flex w-full items-center justify-between gap-3 rounded-lg px-3 py-2 text-white hover:bg-neutral-700  focus:outline-none"
                                role="menuitemradio"
                                aria-checked="true"
                                data-unit="metric"
                        >
                            <span>Celsius (°C)</span>
                        </button>
                        <button
                                type="button"
                                class="flex w-full items-center justify-between gap-3 rounded-lg px-3 py-2 text-white hover:bg-neutral-700  focus:outline-none"
                                role="menuitemradio"
                                aria-checked="true"
                                data-unit="metric"
                        >
                            <span>Fahrenheit (°F)</span>
                        </button>
                        <hr class="py-[7.5px] my-[7.5px] border-neutral-600 block">
                        <p class="text-neutral-300 pl-3 text-[14px]">Wind Speed</p>
                        <button
                                type="button"
                                class="flex w-full items-center justify-between gap-3 rounded-lg px-3 py-2 text-white hover:bg-neutral-700 focus:bg-neutral-700 focus:outline-none"
                                role="menuitemradio"
                                aria-checked="false"
                                data-unit="imperial"
                        >
                            <span>km/h</span>
                        </button>
                        <button
                                type="button"
                                class="flex w-full items-center justify-between gap-3 rounded-lg px-3 py-2 text-white hover:bg-neutral-700 focus:bg-neutral-700 focus:outline-none"
                                role="menuitemradio"
                                aria-checked="false"
                                data-unit="kelvin"
                        >
                            <span>mph</span>
                        </button>
                        <hr class="py-[7.5px] my-[7.5px] border-neutral-600 block">
                        <p class="text-neutral-300 pl-3 text-[14px]">Precipitation</p>
                        <button
                                type="button"
                                class="flex w-full items-center justify-between gap-3 rounded-lg px-3 py-2 text-white hover:bg-neutral-700 focus:bg-neutral-700 focus:outline-none"
                                role="menuitemradio"
                                aria-checked="false"
                                data-unit="kelvin"
                        >
                            <span>Millimeters (mm)</span>
                        </button>
                        <button
                                type="button"
                                class="flex w-full items-center justify-between gap-3 rounded-lg px-3 py-2 text-white hover:bg-neutral-700 focus:bg-neutral-700 focus:outline-none"
                                role="menuitemradio"
                                aria-checked="false"
                                data-unit="kelvin"
                        >
                            <span>Inch (in)</span>
                        </button>

                    </div>
                </div>
            </div>

            <div class="flex justify-center items-center">
                <h1 class="text-white text-[52px]">How's the sky looking today?</h1>
            </div>

            <!-- Search container -->
            <div class="mt-8 px-6 flex justify-center">
                <form id="searchForm" class="w-full max-w-2xl">
                    <div class="group relative flex items-center gap-3 rounded-2xl bg-white/5 ring-1 ring-white/10 hover:ring-white/20 focus-within:ring-blue-400/50 backdrop-blur px-4 py-3 shadow-[0_8px_30px_rgb(0,0,0,0.2)] transition">
                        <!-- Search icon -->
                        <svg class="h-5 w-5 text-neutral-300 shrink-0" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                            <path fill-rule="evenodd" d="M8.5 3a5.5 5.5 0 1 1 3.89 9.39l3.61 3.61a1 1 0 0 1-1.42 1.42l-3.6-3.61A5.5 5.5 0 0 1 8.5 3Zm0 2a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Z" clip-rule="evenodd" />
                        </svg>

                        <label for="searchInput" class="sr-only">Search city</label>
                        <input
                            id="searchInput"
                            name="q"
                            type="text"
                            placeholder="Search for a city, e.g. London"
                            class="flex-1 bg-transparent text-white placeholder:text-neutral-400 focus:outline-none text-base"
                            autocomplete="off"
                            aria-describedby="searchHelp"
                        />

                        <!-- Clear button -->
                        <button type="button" id="clearSearch" class="hidden group-[:has(input:not(:placeholder-shown))]:inline-flex items-center rounded-full p-1 text-neutral-300 hover:text-white focus:outline-none" aria-label="Clear search">
                            <svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd" d="M5.22 5.22a.75.75 0 0 1 1.06 0L10 8.94l3.72-3.72a.75.75 0 1 1 1.06 1.06L11.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06L10 11.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06L8.94 10 5.22 6.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
                            </svg>
                        </button>

                        <!-- Submit button -->
                        <button type="submit" class="inline-flex items-center gap-2 rounded-xl bg-blue-500 px-3 py-2 text-white font-medium hover:bg-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-300">
                            <span class="hidden sm:inline">Search</span>
                            <svg class="h-5 w-5 sm:hidden" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd" d="M8.5 3a5.5 5.5 0 1 1 3.89 9.39l3.61 3.61a1 1 0 0 1-1.42 1.42l-3.6-3.61A5.5 5.5 0 0 1 8.5 3Zm0 2a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>
                    <p id="searchHelp" class="mt-2 text-sm text-neutral-400">Try city names or ZIP/post codes.</p>
                </form>
            </div>
        </header>

        <main class="w-full">
            <!-- Main content goes here -->

        </main>

        <footer class="w-full">
            <!-- Footer content goes here -->
        </footer>
    </div>
</div>
<script type="text/javascript">
    // Dropdown behavior
    (function () {
        var btn = document.getElementById('unitsDropdownBtn');
        var menu = document.getElementById('unitsMenu');
        var chevron = document.getElementById('unitsChevron');

        if (!btn || !menu) return;

        function openMenu() {
            menu.classList.remove('hidden');
            btn.setAttribute('aria-expanded', 'true');
            if (chevron) chevron.classList.add('rotate-180');
        }

        function closeMenu() {
            menu.classList.add('hidden');
            btn.setAttribute('aria-expanded', 'false');
            if (chevron) chevron.classList.remove('rotate-180');
        }

        function toggleMenu() {
            var expanded = btn.getAttribute('aria-expanded') === 'true';
            expanded ? closeMenu() : openMenu();
        }

        btn.addEventListener('click', function (e) {
            e.stopPropagation();
            toggleMenu();
        });

        // Keyboard support
        btn.addEventListener('keydown', function (e) {
            if (e.key === 'ArrowDown' || e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                openMenu();
                var first = menu.querySelector('[role="menuitemradio"]');
                if (first) first.focus();
            }
        });

        menu.addEventListener('keydown', function (e) {
            var items = Array.prototype.slice.call(menu.querySelectorAll('[role="menuitemradio"]'));
            var idx = items.indexOf(document.activeElement);

            if (e.key === 'Escape') {
                e.preventDefault();
                closeMenu();
                btn.focus();
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                var next = items[(idx + 1) % items.length];
                if (next) next.focus();
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                var prev = items[(idx - 1 + items.length) % items.length];
                if (prev) prev.focus();
            } else if (e.key === 'Tab') {
                // Close when tabbing away
                closeMenu();
            }
        });

        // Selection handling
        menu.addEventListener('click', function (e) {
            var target = e.target.closest('[role="menuitemradio"]');
            if (!target) return;
            var items = menu.querySelectorAll('[role="menuitemradio"]');
            items.forEach(function (el) { el.setAttribute('aria-checked', String(el === target)); });

            // TODO: Hook your unit-switching logic here.
            // Example:
            // const unit = target.getAttribute('data-unit'); updateUnits(unit);

            closeMenu();
            btn.focus();
        });

        // Click outside to close
        document.addEventListener('click', function (e) {
            if (!menu.contains(e.target) && !btn.contains(e.target)) {
                closeMenu();
            }
        });

        // Close on window blur (optional)
        window.addEventListener('blur', closeMenu);
    })();

    // Search form behavior (no API calls; just UX helpers)
    (function () {
        var input = document.getElementById('searchInput');
        var clearBtn = document.getElementById('clearSearch');
        var form = document.getElementById('searchForm');
        if (!input || !clearBtn || !form) return;

        function updateClearVisibility() {
            if (input.value && input.value.length > 0) {
                clearBtn.classList.remove('hidden');
            } else {
                clearBtn.classList.add('hidden');
            }
        }

        input.addEventListener('input', updateClearVisibility);
        clearBtn.addEventListener('click', function () {
            input.value = '';
            input.focus();
            updateClearVisibility();
        });

        form.addEventListener('submit', function (e) {
            e.preventDefault();
            // TODO: Wire your actual search or weather fetch here
            // For now, just blur to indicate submission
            input.blur();
        });

        // Initialize state on load
        updateClearVisibility();
    })();
</script>

</body>
</html>
